<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Not Boredom</title>

<!-- Retro font for the Retro Arcade theme -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
  :root { --btn-w: 80%; --btn-pad: 15px 30px; }
  html, body { height: 100%; margin: 0; overflow-x: hidden; }
  body {
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: linear-gradient(135deg,#000000,#210535,#430d4b,#051427,#7b337d,#c874b2,#f5d5e0,#530f1e,#a44322,#f8bc04,#062c43,#054569,#5591a9,#9ccddc,#ced7e0,#7a27ac,#7844e8,#253fb1,#c33764,#1d2671);
    background-size: 400% 400%;
    animation: gradientBG 20s ease infinite;
    color: #fff; text-align: center; position: relative;
    transition: background 600ms ease, color 300ms ease;
  }
  @keyframes gradientBG { 0%{background-position:0% 50%;} 50%{background-position:100% 50%;} 100%{background-position:0% 50%;} }

  /* Theme variants backgrounds */
  body[data-theme="default"] {
    background: linear-gradient(135deg,#000000,#210535,#430d4b,#051427,#7b337d,#c874b2,#f5d5e0);
    background-size: 400% 400%;
    animation: gradientBG 20s ease infinite;
  }
  body[data-theme="dark"] { background: radial-gradient(circle at center, #0a0a0a, #1a1a2e, #16213e); animation: none; }
  body[data-theme="light"] { background: linear-gradient(135deg,#e0f7fa,#b2ebf2,#80deea,#4dd0e1,#26c6da); animation: none; }
  body[data-theme="retro"] { background: repeating-linear-gradient(45deg,#ff0080,#ff0080 20px,#00ffe0 20px,#00ffe0 40px); animation: none; }
  body[data-theme="ocean"] { background: linear-gradient(180deg,#001f3f,#003a6b 50%,#005a9c 100%); animation: none; }

  /* Shared canvases positioning */
  canvas.theme-layer { position: fixed; inset: 0; z-index: -1; pointer-events: none; }
  .hidden { display: none; }

  /* Visibility per theme (only show relevant canvases) */
  /* Cosmic default */
  #cosmic-stars, #cosmic-nebula, #cosmic-effects { display: none; }
  body[data-theme="default"] #cosmic-stars,
  body[data-theme="default"] #cosmic-nebula,
  body[data-theme="default"] #cosmic-effects { display: block; }

  /* Dark nebula */
  #dark-dust, #dark-pulsar, #dark-arcs { display: none; }
  body[data-theme="dark"] #dark-dust,
  body[data-theme="dark"] #dark-pulsar,
  body[data-theme="dark"] #dark-arcs { display: block; }

  /* Aurora light */
  #aurora-ribbons, #aurora-sparkles, #aurora-mist { display: none; }
  body[data-theme="light"] #aurora-ribbons,
  body[data-theme="light"] #aurora-sparkles,
  body[data-theme="light"] #aurora-mist { display: block; }

  /* Retro arcade */
  #retro-grid, #retro-sprites, #retro-overlay { display: none; }
  body[data-theme="retro"] #retro-grid,
  body[data-theme="retro"] #retro-sprites,
  body[data-theme="retro"] #retro-overlay { display: block; }

  /* Ocean */
  #ocean-back, #ocean-caustics, #ocean-life, #ocean-foreground { display: none; }
  body[data-theme="ocean"] #ocean-back,
  body[data-theme="ocean"] #ocean-caustics,
  body[data-theme="ocean"] #ocean-life,
  body[data-theme="ocean"] #ocean-foreground { display: block; }
  #ocean-back, #ocean-caustics, #ocean-life, #ocean-foreground {
    filter: saturate(1.05) contrast(1.05);
  }
  body[data-theme="ocean"]::after {
    content:""; position:fixed; inset:0; z-index:-1;
    box-shadow: inset 0 0 250px rgba(0, 20, 60, 0.6);
  }
  #customBackground {
  position: fixed;
  inset: 0;
  z-index: -2;
  object-fit: cover;
  width: 100%;
  height: 100%;
  display: none;
}

  h1 { font-size:48px; margin:24px 0 8px; font-weight:900; letter-spacing:2px;
       text-shadow:0 0 12px #fff,0 0 24px #ff00ff,0 0 36px #00ffff; transition: all 300ms ease; }

  .cog { position:fixed; top:15px; right:15px; font-size:24px; cursor:pointer; color:#eee; z-index:10000; }
  .settings { position:fixed; top:50px; right:15px; background:#222; padding:15px; border-radius:8px;
              display:none; box-shadow:0 0 10px rgba(0,0,0,0.5); z-index:10000; min-width: 280px; text-align: left; transition: all 300ms ease; }
  .settings input, .settings select { padding:8px; width:250px; border-radius:5px; border:none; margin-bottom:10px; }
  .settings p, .settings label { font-size:13px; color:#aaa; margin:0 0 8px; display:block; }

  #searchBar,.primary { width:var(--btn-w); padding:var(--btn-pad); font-size:20px; border-radius:12px; margin:12px auto; display:block; transition: all 250ms ease; }
  #searchBar { border:2px solid #fff; background:rgba(255,255,255,0.15); color:#fff; outline:none; }
  #searchBar::placeholder { color:#e8e8e8; }
  #searchBar:focus { background:rgba(255,255,255,0.25); box-shadow:0 0 0 3px rgba(255,255,255,0.25); }

  .primary { border:none; cursor:pointer; color:#fff; background:linear-gradient(135deg,#24c6dc,#514a9d);
             box-shadow:0 6px 16px rgba(0,0,0,0.35); transition:transform .15s ease, filter .2s ease, box-shadow 200ms ease; }
  .primary:hover { transform:translateY(-2px); filter:brightness(1.05); }
  .primary:active { transform:translateY(0); }

  #buttonContainer { display:flex; flex-direction:column; align-items:center; gap:14px; padding:20px 0 40px; }
  #buttonContainer button { width:var(--btn-w); padding:var(--btn-pad); font-size:22px; border-radius:12px; border:none; cursor:pointer;
    color:white; background:linear-gradient(135deg,#ff512f,#dd2476);
    box-shadow:0 6px 16px rgba(0,0,0,0.35); transition:transform .15s ease, filter .2s ease, box-shadow 200ms ease;
    display:flex; align-items:center; justify-content:center; gap:8px; }
  #buttonContainer button:hover { transform:translateY(-2px); filter:brightness(1.05); }
  #buttonContainer button:active { transform:translateY(0); }

  .fav-star { font-size:22px; cursor:pointer; transition:transform .15s ease; }
  .fav-star:hover { transform:scale(1.2); }

  #gameArea { width:100%; height:100vh; display:none; position:relative; }
  #gameFrame { border:none; width:100%; height:100%; }
  #backBtn { position:absolute; top:10px; left:10px; padding:8px 16px; background:linear-gradient(135deg,#24c6dc,#514a9d);
    color:#fff; border:none; border-radius:6px; cursor:pointer; z-index:10001; }

  #loginOverlay { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; flex-direction: column;
    background: rgba(0,0,0,0.85); color: #fff; z-index: 99999; transition: all 300ms ease; }
  #loginOverlay h2 { font-size: 28px; text-shadow: 0 0 12px #fff,0 0 24px #ff00ff,0 0 36px #00ffff; margin-bottom: 12px; }
  #loginOverlay input { padding: 10px; border-radius: 6px; border: none; width: 250px; margin: 10px; }
  #loginOverlay button { padding: 10px 20px; border: none; border-radius: 6px; background: linear-gradient(135deg,#24c6dc,#514a9d);
    color: #fff; cursor: pointer; box-shadow: 0 6px 16px rgba(0,0,0,0.35); }

  /* Theme-specific UI skins */
  /* Default Cosmic Gradient */
  body[data-theme="default"] h1 { color: #fff; text-shadow: 0 0 12px #fff,0 0 24px #ff00ff,0 0 36px #00ffff; }
  body[data-theme="default"] .primary,
  body[data-theme="default"] #buttonContainer button {
    background: linear-gradient(135deg,#24c6dc,#514a9d);
    color: #fff; box-shadow: 0 6px 16px rgba(0,0,0,0.35);
  }
  body[data-theme="default"] #buttonContainer button:hover { box-shadow: 0 0 12px #ff00ff, 0 0 24px #00ffff; }

  /* Dark Nebula */
  body[data-theme="dark"] h1 { color: #eee; text-shadow: 0 0 12px #444,0 0 24px #888; }
  body[data-theme="dark"] .primary,
  body[data-theme="dark"] #buttonContainer button {
    background: linear-gradient(135deg,#111,#333);
    color: #eee; box-shadow: 0 6px 16px rgba(0,0,0,0.7);
  }
  body[data-theme="dark"] .settings { background: #111; border: 1px solid #444; color: #ccc; }
  body[data-theme="dark"] #loginOverlay { background: rgba(0,0,0,0.95); color: #ccc; }
  body[data-theme="dark"] #buttonContainer button:hover { filter: brightness(1.2); text-shadow: 0 0 6px #888; }

  /* Aurora Light */
  body[data-theme="light"] h1 { color: #222; text-shadow: 0 0 12px #a1ffce,0 0 24px #faffd1; }
  body[data-theme="light"] .primary,
  body[data-theme="light"] #buttonContainer button {
    background: linear-gradient(135deg,#a1ffce,#faffd1);
    color: #222; box-shadow: 0 6px 16px rgba(0,0,0,0.25); border: 2px solid #a1ffce;
  }
  body[data-theme="light"] .settings { background: #fff; border: 1px solid #ccc; color: #222; }
  body[data-theme="light"] #loginOverlay { background: rgba(255,255,255,0.9); color: #222; }

  /* Retro Arcade */
  body[data-theme="retro"] h1 {
    font-family: "Press Start 2P", monospace; text-transform: uppercase;
    color: #0ff; text-shadow: 0 0 12px #ff0080,0 0 24px #00ffe0;
  }
  body[data-theme="retro"] .primary,
  body[data-theme="retro"] #buttonContainer button {
    background: linear-gradient(135deg,#ff0080,#00ffe0);
    color: #fff; font-family: "Press Start 2P", monospace; text-transform: uppercase;
    box-shadow: 0 0 12px #ff0080, 0 0 24px #00ffe0;
  }
  body[data-theme="retro"] .settings {
    background: #111; border: 2px solid #ff0080; color: #0ff; font-family: "Press Start 2P", monospace;
  }
  body[data-theme="retro"] #loginOverlay { background: #000; color: #0ff; font-family: "Press Start 2P", monospace; }
  body[data-theme="retro"]::before {
    content:""; position:fixed; inset:0; z-index:-1;
    background: repeating-linear-gradient(rgba(255,255,255,0.05), rgba(255,255,255,0.05) 2px, transparent 2px, transparent 4px);
    pointer-events:none;
  }

  /* Ocean */
  body[data-theme="ocean"] h1 { color: #cfe9ff; text-shadow: 0 0 12px #39cccc, 0 0 24px #0074d9; }
  body[data-theme="ocean"] .primary,
  body[data-theme="ocean"] #buttonContainer button {
    background: linear-gradient(135deg,#0074d9,#39cccc);
    color: #e0f7fa; box-shadow: 0 6px 16px rgba(0,50,100,0.5);
  }
  body[data-theme="ocean"] .settings { background: rgba(0,40,80,0.9); border: 2px solid #39cccc; color: #cfe9ff; }
  body[data-theme="ocean"] #loginOverlay { background: rgba(0,40,80,0.95); color: #cfe9ff; }
</style>
</head>
<body>

<!-- THEME CANVASES (each theme has its own set) -->
<!-- Cosmic theme -->
<canvas id="cosmic-stars" class="theme-layer"></canvas>
<canvas id="cosmic-nebula" class="theme-layer"></canvas>
<canvas id="cosmic-effects" class="theme-layer"></canvas>

<!-- Dark nebula theme -->
<canvas id="dark-dust" class="theme-layer"></canvas>
<canvas id="dark-pulsar" class="theme-layer"></canvas>
<canvas id="dark-arcs" class="theme-layer"></canvas>

<!-- Aurora light theme -->
<canvas id="aurora-ribbons" class="theme-layer"></canvas>
<canvas id="aurora-sparkles" class="theme-layer"></canvas>
<canvas id="aurora-mist" class="theme-layer"></canvas>

<!-- Retro arcade theme -->
<canvas id="retro-grid" class="theme-layer"></canvas>
<canvas id="retro-sprites" class="theme-layer"></canvas>
<canvas id="retro-overlay" class="theme-layer"></canvas>

<!-- Ocean theme -->
<canvas id="ocean-back" class="theme-layer"></canvas>
<canvas id="ocean-caustics" class="theme-layer"></canvas>
<canvas id="ocean-life" class="theme-layer"></canvas>
<canvas id="ocean-foreground" class="theme-layer"></canvas>

<h1>Not Boredom</h1>

<div class="cog" id="cog">&#9881;</div>
<div class="settings" id="settingsPanel">
  <input type="text" id="panicLink" placeholder="Type your panic link here">
  <p>Press <strong>\</strong> or <strong>Alt+P</strong> to instantly go to your panic link.</p>

  <label for="themeSelect">Choose theme:</label>
  <select id="themeSelect">
    <option value="default">Main</option>
    <option value="dark">Dark theme</option>
    <option value="light">Light Theme</option>
    <option value="retro">Retro</option>
    <option value="ocean">Ocean</option>
    <option value="custom">Custom Theme</option>
  </select>
</div>
  <label for="customFile">Upload PNG or MP4:</label>
<input type="file" id="customFile" accept="image/png,video/mp4">


<input id="searchBar" type="text" placeholder="Search games..." />
<button id="randomGameBtn" class="primary">Random game</button>

<select id="recentDropdown" class="primary"><option value="">Recently played (none yet)</option></select>
<select id="favoritesDropdown" class="primary"><option value="">Favorites (none yet)</option></select>
<div id="gameCounter">Games 292</div>

<div id="buttonContainer">
 <button data-url="https://dddavit.github.io/subway/">   <span class="label">Subway Surfers</span><span class="fav-star">☆</span> </button>
    <button data-url="https://tunnelrush.pages.dev/games/tunnel-rush/">   <span class="label">Tunnel Rush</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/52751/">   <span class="label">Cryptid Tag</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/49858/">   <span class="label">Clicker Heroes</span><span class="fav-star">☆</span> </button>
    <button data-url="https://littlealchemy.com">   <span class="label">Little Alchemy</span><span class="fav-star">☆</span> </button>
    <button data-url="https://littlealchemy2.com">   <span class="label">Little Alchemy 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/49389/">   <span class="label">0v0</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g50/class-14/">   <span class="label">0v0 Dimensions</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games5/10-minutes-till-dawn/">   <span class="label">10 Minutes Till Dawn</span><span class="fav-star">☆</span> </button>
    <button data-url="https://googleusercontent.b-cdn.net/one/one.html">   <span class="label">1v1 Lol</span><span class="fav-star">☆</span> </button>
    <button data-url="https://2048.pages.dev/">   <span class="label">2048</span><span class="fav-star">☆</span> </button>
    <button data-url="https://8ball-pool.pages.dev/file/">   <span class="label">8 Ball Pool</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycby6NyBKr5sGwJ5lGXSwGEq6DlpfC794H6eMj8ymQmt7T5l8_4Tk9yIXJhwNjzoifKIx/exec">   <span class="label">Abandoned</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycby2JlS7zrXUMn8a63H8TXhROmx6rrUrwjDAIGXeNrfRaoihzYLALwKC7MDq7fuzxWIoCw/exec">   <span class="label">Age Of War</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycby-iGW7nI13rNOfHdtQvt2g3ik1HWzcZyr0US6sz_OeR2eN0flkKMyKjvvXVPs49WKE/exec">   <span class="label">Age Of War 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycb30nrhMSPeJyfgpPQfLsVVhOxjjyErkIsQtoYAzPkRYenYcSBpVyMcOwXy_flMCjFm/exec">   <span class="label">Angry Birds</span><span class="fav-star">☆</span> </button>
    <button data-url="https://appel.pages.dev/">   <span class="label">Appel</span><span class="fav-star">☆</span> </button>
    <button data-url="https://archero.pages.dev/play/archero">   <span class="label">Archero</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g5/class-554/">   <span class="label">Archery World Tour</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/50719/">   <span class="label">All Flee</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/43890/">   <span class="label">Magnet Ban</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/50498/">   <span class="label">Candy Clicker</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbMc9YDautmU6ZzhHR7yvfWrxnr0pQ1FedN8zNOhluXnNGb0z9xq_igcdD5kLhwVJO4/exec">   <span class="label">Armed With Wings</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzOCei0UaoJR3ZC-Ucj79IuKdp3mAz-ncOk9dMGnenhnpjTzB6lh2rjOrwM5JX5cPuYGQ/exec">   <span class="label">Armed With Wings 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/41808/?gd_sdk_referrer_url=https://www.coolmathgames.com/0-atari-breakout">   <span class="label">Atari Breakout</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbmevkeavNOsB5HAuBlRXCr11dpWboVy58LIy4v_Np9hzx4NgD3Os9Uow5yrKylc2uu/exec">   <span class="label">Awesome Tanks</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbyJgJSpZLYW4t7SEW5VCiR5pQyGtXlTSYP4ohz57LkTI3RFdVJNQEnLihXgleCe9wtudQ/exec">   <span class="label">Awesome Tank 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbxoz2PvUkWpxsV1-0iMn7pwzQ060snqkpynoRNjZ1e6i26bjYW1-qyS-gOoiIVVxeo/exec">   <span class="label">Bad Piggies</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/49889/">   <span class="label">Boba Simulator</span><span class="fav-star">☆</span> </button>
    <button data-url="https://bobzgames.github.io/GBA/">   <span class="label">Gba Games</span><span class="fav-star">☆</span> </button>
    <button data-url="https://bombparty-clone.fly.dev/">   <span class="label">Bombparty</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g68/class-1064/">   <span class="label">Boost Buddies</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbxf0tR2BsCY9bo5fVO8a79a9AICjRwbnYEKLZ9VvPSL3mD_RqHd2kVBhiYZOtPShg2Gew/exec">   <span class="label">Bow Master</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g177/class-334/">   <span class="label">Bacon May Die</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/sans/">   <span class="label">Bad Times Simulator (Sans Fight)</span><span class="fav-star">☆</span> </button>
    <button data-url="https://basketbros.pages.dev/">   <span class="label">Basket Bros</span><span class="fav-star">☆</span> </button>
    <button data-url="https://basket-random.pages.dev/">   <span class="label">Basket Random</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g26/class-539/">   <span class="label">Big Tall Small</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/25026/">   <span class="label">Big Tower Tiny Square</span><span class="fav-star">☆</span> </button>
    <button data-url="https://block-blast.pages.dev/">   <span class="label">Block Blast</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbylDbqCzimuW6A1JUkKt8EayWdCstoWeOztkVYUXfP8Hq4CGURaqyYbfWmoID7ZlpWKA/exec">   <span class="label">Bloons Super Monkey</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbwXAfTxL6K-vmAEnhCkQQa3hpBPf8aVkH8DEqWcdfXAlCUh0YGniwSho5VQOzDelUr3/exec">   <span class="label">Bloxorz</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g16/class-413/">   <span class="label">Blumgi Rocket</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzcqtSozdkUS3cVU0jfCcHcfwTlBIw40vC8dF8khMP1lSrkrBSc8mpvi8u0X6g7ntvhQ/exec">   <span class="label">Bob The Robber</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbwT5Vd9N-AHqqhifEQ_a_NLjIlYz15m3tNpRzzDO11AaXeJ9chBc0FskXB2SKMQIM49/exec">   <span class="label">Bob The Robber 5</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbwMYKzQ6gSINJLuMrA4-mwPsrGtYaI6MPzQCISHKOtoBa15-mNL_vkQZQHcbYUVIgxF/exec">   <span class="label">Boxel Rebound</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g16/class-422/">   <span class="label">Brain Test</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/48389/">   <span class="label">Braininess</span><span class="fav-star">☆</span> </button>
    <button data-url="https://btd3.pages.dev/">   <span class="label">Btd 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://btd5.pages.dev/">   <span class="label">Btd 5</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzYNoh6yqG6eu3SMGFRLwHI1B6R79jADni5_zTz5G0IYuwqo2WbU0N9hiYUkXKS8Zh1/exec">   <span class="label">Bunny Land</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g97/class-518/">   <span class="label">Burrito Bison</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzQTx2iYEacv65AXzQtwQfo_IJjCWxNMlPlGC6Jrn8_JjT9jgozigOP8IhrXkTelccQcQ/exec">   <span class="label">Candy Crush</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbxUyV2R8KeizijE1KJA99T-MSJpFxtk4wH0dl5hqfKUecaef2IafsJyPhvdzzKjyIxDjA/exec">   <span class="label">Cat Mario</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g97/class-524/">   <span class="label">Champion Islands</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.mathsisfun.com/games/chess.html">   <span class="label">Chess</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/49858/">   <span class="label">Clicker Heroes</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/49390/">   <span class="label">Collapstle</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g26/class-521/">   <span class="label">Color Switch</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbz3ztPjvS8Uf1oP2PlGFrmmOgdgA4rgB5J90piAzCihFooBHtyo8LkMstiQghy5wo9Z/exec">   <span class="label">Crash Bandicoot</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzb6gis7lW3NzNhKtIj0z-QkksOggWpIGJnlj67wMNhnV-iXaY785UlyiagxBYUBPybUA/exec">   <span class="label">Creative Kill Chamber 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://vaz63.github.io/g20/class-402/">   <span class="label">Crossy Road</span><span class="fav-star">☆</span> </button>
    <button data-url="https://cuttherope.pages.dev/">   <span class="label">Cut The Rope</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/shapezio/">   <span class="label">Shapez.io</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g7/class-90/">   <span class="label">Daddy Long Legs</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzwUaDK8U6_bsC7-FFYI_iLh1tHHWcrCcmAfYgw1_6rrvoJdNQFzEr_VtTbQJEr3ZIYFA/exec">   <span class="label">Doodle God</span><span class="fav-star">☆</span> </button>
    <button data-url="https://doodlejump.pages.dev/">   <span class="label">Doodle Jump</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbyxLM58t1oGIyqp09GNTAGBqUBaFg7A9nY5LlLwS45Zg2z63ax0EmnhHCXW_aHhEpdFcqg/exec">   <span class="label">Doom</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbx61mSm2aEx_wwEQB66hIGUZm8hV2dBZvo2QXcabpXvc0r25c22pW-pdE8tmxBjOWcWCw/exec">   <span class="label">Doom 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzzQ-KS89sAq_85ymMiWnz7_Piw_GDPiB20u_ZyXOgWUgO432XOvvXN-2DZB6MgWaxU/exec">   <span class="label">Doom 2D</span><span class="fav-star">☆</span> </button>
    <button data-url="https://driftboss.pages.dev/">   <span class="label">Drift Boss</span><span class="fav-star">☆</span> </button>
    <button data-url="https://drivemad2.pages.dev/">   <span class="label">Drive Mad</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/50916/">   <span class="label">Duck Duck Clicker</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/52475/">   <span class="label">Duck Duck Clicker 3D</span><span class="fav-star">☆</span> </button>
    <button data-url="https://ducklife1.pages.dev/">   <span class="label">DuckLife</span><span class="fav-star">☆</span> </button>
    <button data-url="https://ducklife2.pages.dev/">   <span class="label">DuckLife 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://ducklife3.pages.dev/">   <span class="label">Ducklife 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://ducklife4.pages.dev/">   <span class="label">DuckLife 4</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/50081/">   <span class="label">Eggy Car</span><span class="fav-star">☆</span> </button>
    <button data-url="https://gameboyadvanced.pages.dev/">   <span class="label">Game Stash</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g26/class-502/">   <span class="label">Deepest Sword</span><span class="fav-star">☆</span> </button>
    <button data-url="https://chrome-dino-game.github.io/">   <span class="label">Chrome Dino</span><span class="fav-star">☆</span> </button>
    <button data-url="https://fancypants.pages.dev/">   <span class="label">Fancy Pants</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g68/class-1012/">   <span class="label">Fantasy Merger</span><span class="fav-star">☆</span> </button>
    <button data-url="https://fishingfrenzy.co/login">   <span class="label">Fishing Frenzy</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g177/class-339/">   <span class="label">Fox Simulator</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzglu7bAlCzkY1f7zPl84CsM0ddysxenJzVGRnNn-w3Lt1mQJNIiXViOwdO5Q4M4ztL/exec">   <span class="label">Free Rider 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://fridaynightfunkinweek7.github.io/">   <span class="label">Friday Night Funkin</span><span class="fav-star">☆</span> </button>
    <button data-url="https://fruitninja.pages.dev/">   <span class="label">Fruit Ninja</span><span class="fav-star">☆</span> </button>
    <button data-url="https://funny-shooter.iwhy.dev/v1/index.html">   <span class="label">Funny Shooter</span><span class="fav-star">☆</span> </button>
    <button data-url="https://funny-shooter.iwhy.dev/v2/index.html">   <span class="label">Funny Shooter 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geometry-dash.pages.dev/">   <span class="label">Geometry Dash</span><span class="fav-star">☆</span> </button>
    <button data-url="https://ubg44.github.io/GetawayShootout/">   <span class="label">Getaway Shootout</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/hole.io/">   <span class="label">Hole.io</span><span class="fav-star">☆</span> </button>
    <button data-url="https://house-of-hazards.pages.dev/">   <span class="label">House Of Hazards</span><span class="fav-star">☆</span> </button>
    <button data-url="https://bigicetowertinysquare.pages.dev/">   <span class="label">Big Ice Tower Tiny Square</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g72/class-631/">   <span class="label">Idle Ants</span><span class="fav-star">☆</span> </button>
    <button data-url="https://password-game.pages.dev/">   <span class="label">Password Game</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incredibox.pages.dev/">   <span class="label">Incredibox</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbxMgRYs-DIiLFFGcb5Na--A05LmPWgUsEJ8jwAYxhJGTBzv9rKLZNJ6S58t6qS26Kld/exec">   <span class="label">Jelly Mario</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/53996/">   <span class="label">Jelly Truck</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/49742/">   <span class="label">Johhny Upgrade</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g72/class-638/">   <span class="label">Jumping Shells</span><span class="fav-star">☆</span> </button>
    <button data-url="https://archero.pages.dev/play/just-tanks">   <span class="label">Just Tanks</span><span class="fav-star">☆</span> </button>
    <button data-url="https://bobzgames.github.io/GBA/launcher.html#khcom">   <span class="label">Kingdom Hearts Chain Of Memories</span><span class="fav-star">☆</span> </button>
    <button data-url="https://bobzgames.github.io/GBA/launcher.html#kirbymirror">   <span class="label">Kirby & The Amazing Mirror</span><span class="fav-star">☆</span> </button>
    <button data-url="https://learntofly.pages.dev/">   <span class="label">Learn To Fly Idle</span><span class="fav-star">☆</span> </button>
    <button data-url="https://learntofly2.pages.dev/">   <span class="label">Learn To Fly 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbxp_1sb3zCrL5Na_1tGvx_AnBoSj6wiMPLIiQHHtaReHRblntFMVYb4YBnFyhowLIX94A/exec">   <span class="label">Free Rider</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g22/class-356/">   <span class="label">Level Devil</span><span class="fav-star">☆</span> </button>
    <button data-url="https://mca1.pages.dev/">   <span class="label">Magic Cat Academy</span><span class="fav-star">☆</span> </button>
    <button data-url="https://mca2.pages.dev/">   <span class="label">Magic Cat Academy 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://mca3.pages.dev/">   <span class="label">Magic Cat Academy 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbwcME7Zjq471xlcGPWLVBaU2pVk9PNpWsAlFxoTfpX-5C7lcqPIyQlFoLNkuCxqIgw62w/exec">   <span class="label">Mario Kart</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbygjC3zfZtvLnkZSdN0ZYEX2u1ZGEKeW6fP2y2SC0cJBvYVq7f_wZGbgbrFaq0iUhcNsA/exec">   <span class="label">Melon Sandbox</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g77/class-829/">   <span class="label">Monkey Mart</span><span class="fav-star">☆</span> </button>
    <button data-url="https://mine-sweeper.pages.dev/">   <span class="label">Minesweeper</span><span class="fav-star">☆</span> </button>
    <button data-url="https://moto-x3m.pages.dev/">   <span class="label">Moto X3m</span><span class="fav-star">☆</span> </button>
    <button data-url="https://moto-x3m-2.pages.dev/">   <span class="label">Moto X3m 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g72/class-580/">   <span class="label">Murder</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbyrD6eAAeG8uwUWVUyzAEk0oAHDWQZz0SW9hxUplVfcurspNtWSeoivayJW2ifs4lRj/exec">   <span class="label">Neon Blaster</span><span class="fav-star">☆</span> </button>
    <button data-url="https://archero.pages.dev/play/battle-starr">   <span class="label">Old Brawl Stars</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/onionfist/orbitaldaggers/">   <span class="label">Orbital Daggers</span><span class="fav-star">☆</span> </button>
    <button data-url="https://papas-burgeria.pages.dev/">   <span class="label">papa's burgeria</span><span class="fav-star">☆</span> </button>
    <button data-url="https://papas-cheeseria.pages.dev/">   <span class="label">Papa's Cheeseria</span><span class="fav-star">☆</span> </button>
    <button data-url="https://papas-freezeria.pages.dev/">   <span class="label">Papa's Freezeria</span><span class="fav-star">☆</span> </button>
    <button data-url="https://papas-pastaria.pages.dev/">   <span class="label">Papa's Pastaria</span><span class="fav-star">☆</span> </button>
    <button data-url="https://papas-pizzeria.pages.dev/">   <span class="label">Papa's Pizzeria</span><span class="fav-star">☆</span> </button>
    <button data-url="https://penalty-kick.pages.dev/">   <span class="label">Penalty Kick</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g/class-505/">   <span class="label">Paper.io 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://planetclicker.pages.dev/">   <span class="label">Planet Clicker</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.mtchs.org/wp-uploads/StudentWork/ClickerGame/">   <span class="label">Pokemon Clicker</span><span class="fav-star">☆</span> </button>
    <button data-url="https://bobzgames.github.io/emerald.html">   <span class="label">Pokemon Emerald</span><span class="fav-star">☆</span> </button>
    <button data-url="https://bobzgames.github.io/redd.html">   <span class="label">Pokemon Fire Red</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbx3Ik2rJinPaZPdPczhX6D3KmzbYK617nmfdBRFSd8QjREPYGea7gLC86qyM1RHpPlgtw/exec">   <span class="label">Pokemon Great Defense 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbxWYXzXN3TRwxELxgrTkjmE5hyqPMgzdNn6clWSzVcU-m0m9MDdHHb-VP-VDnz06vNe/exec">   <span class="label">Pokemon Leaf Green</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbydeGJlDAWwZCE5PY08zOOmx37ItizsHHLSxDEwAEOsGgT7n9rqb4V1Anelns4sezU6/exec">   <span class="label">Pokemon Emerald</span><span class="fav-star">☆</span> </button>
    <button data-url="https://pokemonredgb.netlify.app/">   <span class="label">Pokemon Red</span><span class="fav-star">☆</span> </button>
    <button data-url="https://gameboyadvanced.pages.dev/emulator/gb/yellow">   <span class="label">Pokemon Yellow</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbypOitjGD19RPkCYQ8vgJzFfmtMtnl3naBwSw9OhpqtalZs0k3Pri3nL7X76qUwdV9GGQ/exec">   <span class="label">Pokemon
    Ruby</span><span class="fav-star">☆</span> </button>
    <button data-url="https://bobzgames.github.io/sapphire.html">   <span class="label">Pokemon Saphire</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/macros/s/AKfycbx_-xD1Y9hG-1k_8ibsBhrWHUFud7t58ARoyOcKup3bFvo5nIYQxO-lIlcZpALmSEx5Hg/exec">   <span class="label">Pokemon Ultimate Fusion</span><span class="fav-star">☆</span> </button>
    <button data-url="https://plantsvszombies.pages.dev/">   <span class="label">Plants Vs Zombies</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g66/class-928/">   <span class="label">Quivershot</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/24719/">   <span class="label">Rabbit Samurai</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbwo7v4c7mUQXUD0M_R6xeZGSdprXIEv1NJ0Gu02isAt6N8pXQv14Shxw7aZKMld62iq/exec">   <span class="label">Red Ball 4 Vol 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://amhooman.github.io/website/games/ralsei%20throw/">   <span class="label">Undertale Ralsei Throw</span><span class="fav-star">☆</span> </button>
    <button data-url="https://amhooman.github.io/website/games/undyne/">   <span class="label">Undertale Undyne</span><span class="fav-star">☆</span> </button>
    <button data-url="https://amhooman.github.io/website/games/edgesurf/">   <span class="label">Microsoft Surf</span><span class="fav-star">☆</span> </button>
    <button data-url="https://ragdollarchers.pages.dev/">   <span class="label">Ragdoll Archers</span><span class="fav-star">☆</span> </button>
    <button data-url="https://freetoplayz.github.io/ragdoll-hit/">   <span class="label">Ragdoll Hit</span><span class="fav-star">☆</span> </button>
    <button data-url="https://riddle-school.github.io/file/">   <span class="label">Riddle School</span><span class="fav-star">☆</span> </button>
    <button data-url="https://choppy-orc.github.io/file/riddle-school-2/index.html">   <span class="label">Riddle School 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://driveaheadplay.com/drive/rider/">   <span class="label">Rider</span><span class="fav-star">☆</span> </button>
    <button data-url="https://rooftopsnipers.pages.dev/">   <span class="label">Rooftop Snipers</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g2/class-424/">   <span class="label">Rooftop Snipers 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/49436/">   <span class="label">Run 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://pkgames.org/rodeo-stampede/index.html">   <span class="label">Rodeo Stampede</span><span class="fav-star">☆</span> </button>
    <button data-url="https://pkgames.org/my-perfect-hotel/index.html">   <span class="label">My Perfect Hotel</span><span class="fav-star">☆</span> </button>
    <button data-url="https://thereisnogame.pages.dev/">   <span class="label">There Is No Game</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g68/class-1071/">   <span class="label">Toxic</span><span class="fav-star">☆</span> </button>
    <button data-url="https://slope-phi.vercel.app/">   <span class="label">Slope</span><span class="fav-star">☆</span> </button>
    <button data-url="https://tunnelrush2.pages.dev/">   <span class="label">Tunnel Rush 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://snakeunblocked.github.io/file/">   <span class="label"> Google Snake</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/53637/">   <span class="label">Watermelon Suika</span><span class="fav-star">☆</span> </button>
    <button data-url="https://sprunk-server.99kkaiba.workers.dev/index.html">   <span class="label">Sprunki</span><span class="fav-star">☆</span> </button>
    <button data-url="https://worldguessr.pages.dev/">   <span class="label">Worldguessr</span><span class="fav-star">☆</span> </button>
    <button data-url="https://tileshop.pages.dev/">   <span class="label">Tiles Hop</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g22/class-379/">   <span class="label">Shady Bears</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g26/class-438/">   <span class="label">Tomb Of The Mask</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/49339/">   <span class="label">Slice Master</span><span class="fav-star">☆</span> </button>
    <button data-url="https://webgltest-17af1.firebaseapp.com/">   <span class="label">Smash Karts</span><span class="fav-star">☆</span> </button>
    <button data-url="https://vex6.pages.dev/">   <span class="label">Vex 6</span><span class="fav-star">☆</span> </button>
    <button data-url="https://tinysubversions.com/game/spelunky/game.html">   <span class="label">Spelunky</span><span class="fav-star">☆</span> </button>
    <button data-url="https://happyingame12.life/">   <span class="label">Weird Games</span><span class="fav-star">☆</span> </button>
    <button data-url="https://pkgames.org/stickman-parkour-3/index.html">   <span class="label">Stickman Parkour</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzrzH3F40_t7GSh9M-o6VzOYpFfCj2JG4N0dqqcZSAuARN-p_kF8xDDoCrU8bd-XZxA/exec">   <span class="label">Super Mario Bros 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g68/class-1038/">   <span class="label">Swingers</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g2/class-415/">   <span class="label">Sausage Flip</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/52971/">   <span class="label">Tiny Fishing</span><span class="fav-star">☆</span> </button>
    <button data-url="https://sketch.io/sketchpad/">   <span class="label">Sketchpad</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbzYxoDtJlHnwLSCRfkULVObzWVcVt6mRGFasx5mN88MowP4_mS-1lSUCjbzASFhF30u/exec">   <span class="label">Tube Jumpers</span><span class="fav-star">☆</span> </button>
    <button data-url="https://pkgames.org/smash-it/index.html">   <span class="label">Smash It</span><span class="fav-star">☆</span> </button>
    <button data-url="https://vex3.pages.dev/">   <span class="label">Vex 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://nealfun.app/game/speed-stars/">   <span class="label">Speed Stars</span><span class="fav-star">☆</span> </button>
    <button data-url="https://orb.farm/">   <span class="label">Orb Farm Sandbox</span><span class="fav-star">☆</span> </button>
    <button data-url="https://stickmanhook.pages.dev/">   <span class="label">Stickman Hook</span><span class="fav-star">☆</span> </button>
    <button data-url="https://mathadventure1.github.io/sm64/sm64/index.html">   <span class="label">Super Mario 64</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbwSChHrprN7EV_1tBZU8Mi2KGB4uJX4PQOEf7xpPfo_iCvuojtCu7s0Mp8oRZJRPzZ7Og/exec">   <span class="label">Super Smash Flash</span><span class="fav-star">☆</span> </button>
    <button data-url="https://thisissand.com/">   <span class="label">Draw With Sand</span><span class="fav-star">☆</span> </button>
    <button data-url="https://timeshooter3.pages.dev/timeshootor3/">   <span class="label">Time Shooter 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://emulatoros.github.io/gfile/sketchbook/">   <span class="label">Sketch Book 0.4</span><span class="fav-star">☆</span> </button>
    <button data-url="https://slope2.pages.dev/">   <span class="label">Slope 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://itsvijaysingh.github.io/Snow-Rider3D/">   <span class="label">Snow Rider 3D</span><span class="fav-star">☆</span> </button>
    <button data-url="https://playgames.pages.dev/">   <span class="label">Retro Games</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbyeS0KMc5hv54TcVBgAh-bExO1c_itGoG-Mv93cqBA75fEBVG7_P1aydWFGD8Dpqgp46g/exec">   <span class="label">Stick Archers</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbx88tZ42kElQx0zgLz43Yg0t6dSWzt5orHxO2NnPXcV2cJ-ZQSKzdAeuoEDjHufzXJF_Q/exec">   <span class="label">Super Mario 64 Sunshine</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbx-20sK1Vv2W5l1l4NnyzA67dCLHiWUNOnwlGioOx9yKXkauoZt5H7l6il14wlLS9hI4A/exec">   <span class="label">Battle Simulator</span><span class="fav-star">☆</span> </button>
    <button data-url="https://storeg223.github.io/g68/class-1110/">   <span class="label">Shapes</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/36855/">   <span class="label">Big Flappy Tower Tiny Square</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/onionfist/icedodo/">   <span class="label">Ice Dodo</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/onionfist/tunnelglider/">   <span class="label">Tunnel Glider</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/onionfist/onionsrevenge/">   <span class="label">Onions Revenge</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/edgenotfound/">   <span class="label">Edge Not Found</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/q1k3/">   <span class="label">Q1KE</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/quake/">   <span class="label">Quake</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/spacehuggers/">   <span class="label">Space Huggers</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/asteroids/">   <span class="label">Asteroids</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/evilglitch/">   <span class="label">Evil Glitch</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/blackholesquare/">   <span class="label">Black Hole Square</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/packabunchas/">   <span class="label">Packa Bunches</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/calamity/">   <span class="label">Calamity</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/xx142-b2exe/">   <span class="label">xx142-b2exe</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/konnekt/">   <span class="label">Konnekt</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/roadblocks/">   <span class="label">Road Blocks</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/bitburner/">   <span class="label">Bit Burner</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/untrusted/">   <span class="label">Untrusted</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/logicsim/">   <span class="label">Logicsim</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/bitcoingame/">   <span class="label">Bitcoin Game</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/adarkroom/">   <span class="label">A Dark Room</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/trimps/">   <span class="label">Trimps</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/spacecompany/">   <span class="label">Space Company</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/celeste/">   <span class="label">Celeste</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/celeste2/">   <span class="label">Celeste 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/fbwg/">   <span class="label">Fireboy & Watergirl</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/fbwg2/">   <span class="label">Fireboy & Watergirl 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/fbwg3/">   <span class="label">Fireboy & Watergirl 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/fbwg4/">   <span class="label">Fireboy & Watergirl 4</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/dancingline/">   <span class="label">Dancing Line</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/skyball/">   <span class="label">Rolling Skyball</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/ctrvivid/">   <span class="label">Cut The Rope Vivid</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/ctrtimetravel/">   <span class="label">Cut The Rope Time Travel</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/starling/">   <span class="label">Starling</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/noleglenny/">   <span class="label">No Leg Lenny</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/had/">   <span class="label">Had</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/astray/">   <span class="label">Astray</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/backcountry/">   <span class="label">Back Country</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/bounceback/">   <span class="label">Bounce Back</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/captaincallisto/">   <span class="label">Captain Callisto</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/ninjavsevilcorp/">   <span class="label">Ninja Vs Evil Corp</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/towermaster/">   <span class="label">Tower Buildings</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/agariominigame/">   <span class="label">Agar.io Clone</span><span class="fav-star">☆</span> </button>
    <button data-url="https://incrediblewebsite.github.io/rollingforests">   <span class="label">Rolling Forests</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/tanuki-sunset/">   <span class="label">Tanuki Sunset</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/pixellyballs/">   <span class="label">Pixel Speedrun</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/mcm-files/index.html">   <span class="label">Madalin Stunt Cars 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/43495/">   <span class="label">Grindcraft</span><span class="fav-star">☆</span> </button>
    <button data-url="https://mountjustin.github.io/zstumbleguys.html">   <span class="label">Stumble Guys</span><span class="fav-star">☆</span> </button>
    <button data-url="https://mountjustin.github.io/thisistheonlylevel.html">   <span class="label">This Is The Only Level</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/bitlife/">   <span class="label">Bit Life</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games5/jetpack-joyride/">   <span class="label">Jetpack Joyride</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/polytrack/">   <span class="label">Poly Track</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/7a9b3c4e2f6d1e8c5a2f4b7d9e3c0a6f/">   <span class="label">Giraffe Volleyball</span><span class="fav-star">☆</span> </button>
    <button data-url="https://eaglercraftz.pages.dev/javascript/builds/0.0.8/">   <span class="label">Minecraft/Eaglecraft</span><span class="fav-star">☆</span> </button>
    <button data-url="https://www.coolmathgames.com/sites/default/files/public_games/23365/">   <span class="label">Last Horizen</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/bottleflippingdiedin20126/">   <span class="label">Bottle Flip 3D</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/snowballio/">   <span class="label">Snowball.io</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/sanstrike.io/?room=574&region=us">   <span class="label">Sandstrike.io</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/doge/">   <span class="label">Doge Miner</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/stack/">   <span class="label">Stack</span><span class="fav-star">☆</span> </button>
    <button data-url="https://geography-lessons.github.io/Vafor_IT/worlds-hardest-game-2/index.html">   <span class="label">Worlds Hardest Game 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/games/Flash.html?game=/games/swf/riddd3.swf">   <span class="label">Riddle School 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/games/Flash.html?game=/games/swf/riddd4.swf">   <span class="label">Riddle School 4</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/games/Flash.html?game=/games/swf/riddd5.swf">   <span class="label">Riddle School 5</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/games/Flash.html?game=/games/swf/riddd6.swf">   <span class="label">Riddle Transfer Year 6</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/games/Flash.html?game=/games/swf/riddd7.swf">   <span class="label">Riddle Transfer Year 7</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games9/archer-hero/unblocked">   <span class="label">Archero</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=92">   <span class="label">Tower Of Destiny</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=97">   <span class="label">Henry Stickman Stealing the diamond</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=96">   <span class="label"> Henry Stickman Infiltrating the airship</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=95">   <span class="label">Henry Stickman Fleeing the Complex</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=94">   <span class="label">Henry Stickman Breaking The Bank</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=93">   <span class="label">Henry Stickman</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=98">   <span class="label">Bounce Masters</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=99">   <span class="label">Bow Masters</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=87">   <span class="label">Bob The Robber 4</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=86">   <span class="label">Bob The Robber 3</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=85">   <span class="label">Bob The Robber 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=84">   <span class="label">Bob The Robber</span><span class="fav-star">☆</span> </button>
    <button data-url="https://quiz-25.app/test.html?id=6">   <span class="label">Agar.io</span><span class="fav-star">☆</span> </button>
    <button data-url="https://purepro4573.github.io/yohoho/">   <span class="label">Yohoho.io</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games5/angry-sharks/">   <span class="label">Angry Sharks</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games5/HexGL-master/">   <span class="label">Hex Gl</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games5/ctr-holiday/">   <span class="label">Cut The Rope 2</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games6/dragon-vs-bricks/">   <span class="label">Dragon Vs Bricks</span><span class="fav-star">☆</span> </button>
    <button data-url="https://narrow-one.github.io/n88/jacksmith/">   <span class="label">Jacksmith</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games6/ballistic-chickens/">   <span class="label">Ballistic Chickens</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games7/osu/">   <span class="label">Web Osu</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games7/vex4/">   <span class="label">Vex 4</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games7/vex5/">   <span class="label">Vex 5</span><span class="fav-star">☆</span> </button>
    <button data-url="https://unblockedgames200.github.io/Games8/only-up">   <span class="label">Only Up</span><span class="fav-star">☆</span> </button>
    <button data-url="https://script.google.com/a/macros/sd215.net/s/AKfycbxwE_8QNir8i6xPqvqO99VE9Kw5DGmtvu-IRq4fL4vC1uHFDB0WEo3HG_buBW1hDqJDTA/exec">   <span class="label">I Will Survive</span><span class="fav-star">☆</span> </button>
</div>

<div id="gameArea">
  <button id="backBtn">Back to Launcher</button>
  <iframe id="gameFrame" allow="fullscreen" allowfullscreen></iframe>
</div>

<div id="loginOverlay">
  <h2>Please enter your Gmail to continue</h2>
  <input id="gmailInput" type="email" placeholder="yourname@gmail.com">
  <button id="loginBtn">Sign In</button>
  <p>Only approved Gmail accounts can access this launcher.</p>
</div>

<script>
  const allowedUsers = ["admin123123rrr..."].map(u => u.toLowerCase());

  function checkAccess() {
    const email = document.getElementById("gmailInput").value.trim().toLowerCase();
    if (allowedUsers.includes(email)) {
      localStorage.setItem("authorizedUser", email);
      document.getElementById("loginOverlay").style.display = "none";
      alert("Access granted! Welcome " + email);
    } else {
      alert("Access denied. Gmail not authorized.");
    }
  }

  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("loginBtn").addEventListener("click", checkAccess);

    const savedUser = localStorage.getItem("authorizedUser");
    if (savedUser && allowedUsers.includes(savedUser.toLowerCase())) {
      document.getElementById("loginOverlay").style.display = "none";
    }

    initLauncher();
  });

  function initLauncher() {
    const randomBtn = document.getElementById("randomGameBtn");
    if (randomBtn) {
      randomBtn.addEventListener("click", () => {
        const buttons = document.querySelectorAll("#buttonContainer button");
        if (buttons.length > 0) {
          const randomIndex = Math.floor(Math.random() * buttons.length);
          buttons[randomIndex].click();
        }
      });
    }

    const searchBar = document.getElementById("searchBar");
    if (searchBar) {
      searchBar.addEventListener("input", (e) => {
        const query = e.target.value.toLowerCase();
        const buttons = document.querySelectorAll("#buttonContainer button");
        let visibleCount = 0;
        buttons.forEach(btn => {
          if (btn.textContent.toLowerCase().includes(query)) {
            btn.style.display = "flex";
            visibleCount++;
          } else {
            btn.style.display = "none";
          }
        });
        document.getElementById("gameCounter").textContent = "Games visible: " + visibleCount;
      });
    }

    const panicInput = document.getElementById("panicLink");
    if (panicInput) {
      document.addEventListener("keydown", (e) => {
        if (e.key === "\\" || (e.altKey && e.key.toLowerCase() === "p")) {
          const link = panicInput.value.trim();
          if (link) window.location.href = link;
        }
      });
    }

    const cog = document.getElementById("cog");
    const settingsPanel = document.getElementById("settingsPanel");
    if (cog && settingsPanel) {
      cog.addEventListener("click", () => {
        settingsPanel.style.display = settingsPanel.style.display === "block" ? "none" : "block";
      });
    }

    const favoritesDropdown = document.getElementById("favoritesDropdown");
    const recentDropdown = document.getElementById("recentDropdown");

    let favorites = JSON.parse(localStorage.getItem("favorites") || "[]");
    let recents = JSON.parse(localStorage.getItem("recents") || "[]");

    function updateDropdown(dropdown, items, placeholder) {
      dropdown.innerHTML = "";
      if (items.length === 0) {
        dropdown.innerHTML = `<option value="">${placeholder}</option>`;
      } else {
        items.forEach(item => {
          const opt = document.createElement("option");
          opt.value = item;
          opt.textContent = item;
          dropdown.appendChild(opt);
        });
      }
    }

    updateDropdown(favoritesDropdown, favorites, "Favorites (none yet)");
    updateDropdown(recentDropdown, recents, "Recently played (none yet)");

    document.querySelectorAll("#buttonContainer button").forEach(btn => {
      btn.addEventListener("click", () => {
        const gameName = btn.querySelector(".label")
          ? btn.querySelector(".label").textContent.trim()
          : btn.textContent.replace("☆","").trim();

        const gameFile = btn.getAttribute("data-game") || btn.getAttribute("data-url");

        const gameFrame = document.getElementById("gameFrame");
        if (gameFrame && gameFile) {
          gameFrame.src = gameFile;
          document.getElementById("gameArea").style.display = "block";

          document.getElementById("searchBar").style.display = "none";
          document.getElementById("randomGameBtn").style.display = "none";
          document.getElementById("recentDropdown").style.display = "none";
          document.getElementById("favoritesDropdown").style.display = "none";
          document.getElementById("gameCounter").style.display = "none";
          document.getElementById("buttonContainer").style.display = "none";
          document.getElementById("settingsPanel").style.display = "none";

          const gameAreaEl = document.getElementById("gameArea");
          if (gameAreaEl.requestFullscreen) {
            gameAreaEl.requestFullscreen().catch(() => {});
          } else if (gameAreaEl.webkitRequestFullscreen) {
            gameAreaEl.webkitRequestFullscreen();
          }
        }

        recents = [gameName, ...recents.filter(r => r !== gameName)].slice(0,10);
        localStorage.setItem("recents", JSON.stringify(recents));
        updateDropdown(recentDropdown, recents, "Recently played (none yet)");
      });

      const star = btn.querySelector(".fav-star");
      if (star) {
        star.addEventListener("click", (e) => {
          e.stopPropagation();
          const gameName = btn.querySelector(".label")
            ? btn.querySelector(".label").textContent.trim()
            : btn.textContent.replace("☆","").trim();

          if (favorites.includes(gameName)) {
            favorites = favorites.filter(f => f !== gameName);
            star.textContent = "☆";
          } else {
            favorites.push(gameName);
            star.textContent = "★";
          }
          localStorage.setItem("favorites", JSON.stringify(favorites));
          updateDropdown(favoritesDropdown, favorites, "Favorites (none yet)");
        });
      }
    });

    const backBtn = document.getElementById("backBtn");
    if (backBtn) {
      backBtn.addEventListener("click", () => {
        document.getElementById("gameArea").style.display = "none";
        document.getElementById("gameFrame").src = "";

        document.getElementById("searchBar").style.display = "block";
        document.getElementById("randomGameBtn").style.display = "block";
        document.getElementById("recentDropdown").style.display = "block";
        document.getElementById("favoritesDropdown").style.display = "block";
        document.getElementById("gameCounter").style.display = "block";
        document.getElementById("buttonContainer").style.display = "flex";

        if (document.fullscreenElement && document.exitFullscreen) {
          document.exitFullscreen().catch(() => {});
        } else if (document.webkitFullscreenElement && document.webkitExitFullscreen) {
          document.webkitExitFullscreen();
        }
      });
    }
  }
</script>

<script>
  const panicInput = document.getElementById("panicLink");
  const savedLink = localStorage.getItem("panicLink");
  if (savedLink) { panicInput.value = savedLink; }
  panicInput.addEventListener("input", () => {
    localStorage.setItem("panicLink", panicInput.value.trim());
  });
  document.addEventListener("keydown", (e) => {
    const link = localStorage.getItem("panicLink");
    if (!link) return;
    if (e.key === "\\" || (e.altKey && e.key.toLowerCase() === "p")) {
      window.location.href = link;
    }
  });
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const favoritesDropdown = document.getElementById("favoritesDropdown");
  const recentDropdown = document.getElementById("recentDropdown");
  const buttons = document.querySelectorAll("#buttonContainer button");

  let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
  let recents = JSON.parse(localStorage.getItem("recents")) || [];

  function updateDropdown(dropdown, items, placeholder) {
    dropdown.innerHTML = "";
    if (items.length === 0) {
      const opt = document.createElement("option");
      opt.textContent = placeholder;
      dropdown.appendChild(opt);
    } else {
      items.forEach(item => {
        const opt = document.createElement("option");
        opt.value = item.url;
        opt.textContent = item.label;
        dropdown.appendChild(opt);
      });
    }
  }

  updateDropdown(favoritesDropdown, favorites, "Favorites (none yet)");
  updateDropdown(recentDropdown, recents, "Recently played (none yet)");

  buttons.forEach(btn => {
    const star = btn.querySelector(".fav-star");
    const label = btn.querySelector(".label").textContent;
    const url = btn.dataset.url;

    star.addEventListener("click", e => {
      e.stopPropagation();
      const exists = favorites.find(f => f.url === url);
      if (exists) {
        favorites = favorites.filter(f => f.url !== url);
        star.textContent = "☆";
      } else {
        favorites.push({label, url});
        star.textContent = "★";
      }
      localStorage.setItem("favorites", JSON.stringify(favorites));
      updateDropdown(favoritesDropdown, favorites, "Favorites (none yet)");
    });

    if (favorites.find(f => f.url === url)) { star.textContent = "★"; }

    btn.addEventListener("click", () => {
      recents = recents.filter(r => r.url !== url);
      recents.unshift({label, url});
      if (recents.length > 10) recents.pop();
      localStorage.setItem("recents", JSON.stringify(recents));
      updateDropdown(recentDropdown, recents, "Recently played (none yet)");
    });
  });

  [favoritesDropdown, recentDropdown].forEach(dropdown => {
    dropdown.addEventListener("change", () => {
      if (dropdown.value) {
        window.open(dropdown.value, "_blank");
      }
    });
  });
});
</script>

<script>
  function clickGameButtonByLabel(label) {
    const buttons = document.querySelectorAll("#buttonContainer button .label");
    for (let span of buttons) {
      if (span.textContent === label) {
        span.parentElement.click();
        break;
      }
    }
  }
  document.getElementById("recentDropdown").addEventListener("change", e => {
    const label = e.target.options[e.target.selectedIndex].text;
    if (label && label !== "") { clickGameButtonByLabel(label); }
  });
  document.getElementById("favoritesDropdown").addEventListener("change", e => {
    const label = e.target.options[e.target.selectedIndex].text;
    if (label && label !== "") { clickGameButtonByLabel(label); }
  });
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const favoritesDropdown = document.getElementById("favoritesDropdown");
  const recentDropdown = document.getElementById("recentDropdown");
  const buttons = document.querySelectorAll("#buttonContainer button");

  function setHeader(dropdown, text) {
    dropdown.innerHTML = "";
    const header = document.createElement("option");
    header.value = "";
    header.textContent = text;
    header.disabled = true;
    header.selected = true;
    dropdown.appendChild(header);
  }

  setHeader(favoritesDropdown, "Favorites");
  setHeader(recentDropdown, "Recently played");

  let favorites = JSON.parse(localStorage.getItem("favorites")) || [];
  let recents = JSON.parse(localStorage.getItem("recents")) || [];

  function rebuildDropdown(dropdown, headerText, items) {
    setHeader(dropdown, headerText);
    items.forEach(item => {
      if (!item || !item.url || !item.label) return;
      const opt = document.createElement("option");
      opt.value = item.url;
      opt.textContent = item.label;
      dropdown.appendChild(opt);
    });
  }

  rebuildDropdown(favoritesDropdown, "Favorites", favorites);
  rebuildDropdown(recentDropdown, "Recently played", recents);

  function clickOriginalByUrl(url) {
    const btn = document.querySelector(`#buttonContainer button[data-url="${CSS.escape(url)}"]`);
    if (btn) btn.click();
  }

  buttons.forEach(btn => {
    const star = btn.querySelector(".fav-star");
    const labelEl = btn.querySelector(".label");
    const label = labelEl ? labelEl.textContent.trim() : "";
    const url = btn.dataset.url;
    if (!label || !url) return;

    if (favorites.find(f => f.url === url)) { star.textContent = "★"; }

    star.addEventListener("click", e => {
      e.stopPropagation();
      const exists = favorites.find(f => f.url === url);
      if (exists) {
        favorites = favorites.filter(f => f.url !== url);
        star.textContent = "☆";
      } else {
        favorites.push({ label, url });
        star.textContent = "★";
      }
      localStorage.setItem("favorites", JSON.stringify(favorites));
      rebuildDropdown(favoritesDropdown, "Favorites", favorites);
    });

    btn.addEventListener("click", () => {
      recents = recents.filter(r => r.url !== url);
      recents.unshift({ label, url });
      if (recents.length > 10) recents.pop();
      localStorage.setItem("recents", JSON.stringify(recents));
      rebuildDropdown(recentDropdown, "Recently played", recents);
    });
  });

  function attachMenu(dropdown, headerText) {
    dropdown.addEventListener("change", () => {
      const idx = dropdown.selectedIndex;
      const url = dropdown.value;
      if (idx > 0 && url) { clickOriginalByUrl(url); }
      dropdown.selectedIndex = 0;
    });
  }
  attachMenu(favoritesDropdown, "Favorites");
  attachMenu(recentDropdown, "Recently played");
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const gameArea = document.getElementById("gameArea");
  const backBtn = document.getElementById("backBtn");

  const restoreOverlay = document.createElement("div");
  restoreOverlay.textContent = "Click to return to fullscreen";
  restoreOverlay.style.cssText = `
    position:fixed;top:0;left:0;width:100%;height:100%;
    display:none;align-items:center;justify-content:center;
    background:rgba(0,0,0,0.8);color:#fff;font-size:28px;
    z-index:99999;cursor:pointer;text-shadow:0 0 12px #fff,0 0 24px #ff00ff,0 0 36px #00ffff;
  `;
  document.body.appendChild(restoreOverlay);

  function enterFullscreen() {
    if (gameArea.requestFullscreen) {
      gameArea.requestFullscreen().catch(()=>{});
    }
  }

  window.allowExitFullscreen = false;

  document.addEventListener("fullscreenchange", () => {
    if (!document.fullscreenElement && !window.allowExitFullscreen) {
      restoreOverlay.style.display = "flex";
    }
  });

  restoreOverlay.addEventListener("click", () => {
    restoreOverlay.style.display = "none";
    enterFullscreen();
  });

  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
      window.allowExitFullscreen = true;
    }
  });

  backBtn.addEventListener("click", () => {
    window.allowExitFullscreen = true;
    document.exitFullscreen();
    gameArea.style.display = "none";
    restoreOverlay.style.display = "none";
  });

  document.querySelectorAll("#buttonContainer button").forEach(btn => {
    btn.addEventListener("click", () => {
      gameArea.style.display = "block";
      window.allowExitFullscreen = false;
      enterFullscreen();
      document.getElementById("gameFrame").src = btn.dataset.url;
    });
  });
});
</script>

<!-- MULTI-THEME MODULES: start/stop for five themes with 50+ elements each -->
<script>
(function(){
  // Utilities
  const U = {
    rand(min, max){ return Math.random()*(max-min)+min; },
    pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; },
    clamp(v,min,max){ return Math.max(min, Math.min(max, v)); },
    setupCanvas(id){
      const c = document.getElementById(id);
      if(!c) return null;
      const ctx = c.getContext('2d');
      function size(){ c.width = innerWidth; c.height = innerHeight; }
      size();
      return { c, ctx, size };
    }
  };

  // Theme application
  function applyTheme(theme){
    document.body.setAttribute('data-theme', theme);
    localStorage.setItem('selectedTheme', theme);
    stopAllThemes();
    if(theme === 'default') startCosmic();
    else if(theme === 'dark') startDark();
    else if(theme === 'light') startAurora();
    else if(theme === 'retro') startRetro();
    else if(theme === 'ocean') startOcean();
  }

  window.addEventListener('DOMContentLoaded', ()=>{
    const select = document.getElementById('themeSelect');
    const saved = localStorage.getItem('selectedTheme') || 'default';
    document.body.setAttribute('data-theme', saved);
    if(select){ select.value = saved; }
    if(saved === 'default') startCosmic();
    if(saved === 'dark') startDark();
    if(saved === 'light') startAurora();
    if(saved === 'retro') startRetro();
    if(saved === 'ocean') startOcean();

    if(select){ select.addEventListener('change', e=> applyTheme(e.target.value)); }
  });

  // Stop all themes helper
  function stopAllThemes(){
    stopCosmic(); stopDark(); stopAurora(); stopRetro(); stopOcean();
  }

  /* ========= COSMIC (DEFAULT) ========= */
  let cosmicRunning = false, cosmicRAF = [], cosmicIntervals = [], cosmicLayers = {};
  let cosmicStars = [], cosmicComets = [], cosmicSparkles = [], cosmicNebulaBlobs = [];
  const COSMIC_CFG = { stars: 140, sparkles: 120, comets: 3, nebula: 18 };

  function cosmicResize(){
    Object.values(cosmicLayers).forEach(L=>L && L.size());
    buildCosmic();
  }

  function buildCosmic(){
    const { c: cs } = cosmicLayers.stars;
    // Stars
    cosmicStars = [];
    for(let i=0;i<COSMIC_CFG.stars;i++){
      cosmicStars.push({ x: U.rand(0, cs.width), y: U.rand(0, cs.height), r: U.rand(0.5, 1.8), tw: U.rand(0, Math.PI*2) });
    }
    // Sparkles
    cosmicSparkles = [];
    for(let i=0;i<COSMIC_CFG.sparkles;i++){
      cosmicSparkles.push({ x: U.rand(0, cs.width), y: U.rand(0, cs.height), alpha: U.rand(0.02,0.12), tw: U.rand(0, Math.PI*2) });
    }
    // Nebula blobs
    cosmicNebulaBlobs = [];
    for(let i=0;i<COSMIC_CFG.nebula;i++){
      cosmicNebulaBlobs.push({ x: U.rand(0, cs.width), y: U.rand(0, cs.height), w: U.rand(120, 360), h: U.rand(60, 200), hue: U.pick([210, 280, 320]), drift: U.rand(0.1,0.4) });
    }
  }

  function drawCosmicStars(){
    const { c, ctx } = cosmicLayers.stars; const t = Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    cosmicStars.forEach(s=>{
      const a = 0.6 + Math.sin(t*2 + s.tw)*0.4;
      ctx.globalAlpha = a;
      ctx.fillStyle = '#ffffff';
      ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
    });
    ctx.globalAlpha = 1;
  }
  function drawCosmicNebula(){
    const { c, ctx } = cosmicLayers.nebula; const t = Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    cosmicNebulaBlobs.forEach(b=>{
      b.x += Math.sin(t + b.y*0.002)*b.drift;
      b.y += Math.cos(t*0.7 + b.x*0.002)*b.drift*0.7;
      ctx.globalAlpha = 0.08;
      ctx.fillStyle = `hsl(${b.hue}, 80%, 60%)`;
      ctx.beginPath(); ctx.ellipse(b.x, b.y, b.w, b.h, 0, 0, Math.PI*2); ctx.fill();
    });
    ctx.globalAlpha = 1;
  }
  function drawCosmicEffects(){
    const { c, ctx } = cosmicLayers.effects; const t = Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    cosmicSparkles.forEach(s=>{
      const a = s.alpha + Math.sin(t*3 + s.tw)*0.05;
      ctx.globalAlpha = a;
      ctx.fillStyle = '#9ad4ff'; ctx.fillRect(s.x, s.y, 1, 1);
    });
    ctx.globalAlpha = 1;
    // Comets (draw and decay)
    cosmicComets.forEach((comet, idx)=>{
      comet.x += comet.vx; comet.y += comet.vy; comet.life--;
      ctx.globalAlpha = 0.6;
      ctx.strokeStyle = '#aaf';
      ctx.lineWidth = 2; ctx.beginPath(); ctx.moveTo(comet.x, comet.y);
      ctx.lineTo(comet.x - comet.vx*10, comet.y - comet.vy*10); ctx.stroke();
    });
    cosmicComets = cosmicComets.filter(c=> c.life > 0);
  }

  function cosmicTick(){
    if(!cosmicRunning) return;
    drawCosmicStars(); drawCosmicNebula(); drawCosmicEffects();
    cosmicRAF.push(requestAnimationFrame(cosmicTick));
  }
  function spawnComet(){
    const { c } = cosmicLayers.effects;
    cosmicComets.push({
      x: U.rand(-100, 0), y: U.rand(0, c.height*0.7), vx: U.rand(4,7), vy: U.rand(-0.5,0.5), life: U.rand(100,160)
    });
  }
  function spawnConstellationLine(){
    const { c, ctx } = cosmicLayers.effects;
    const s1 = U.pick(cosmicStars), s2 = U.pick(cosmicStars);
    let alpha = 0.6;
    function anim(){
      if(!cosmicRunning) return;
      ctx.save(); ctx.globalAlpha = alpha; ctx.strokeStyle = '#fff'; ctx.lineWidth = 0.8;
      ctx.beginPath(); ctx.moveTo(s1.x, s1.y); ctx.lineTo(s2.x, s2.y); ctx.stroke(); ctx.restore();
      alpha -= 0.02; if(alpha>0) requestAnimationFrame(anim);
    }
    anim();
  }

  function startCosmic(){
    if(cosmicRunning) return;
    cosmicRunning = true;
    cosmicLayers = {
      stars: U.setupCanvas('cosmic-stars'),
      nebula: U.setupCanvas('cosmic-nebula'),
      effects: U.setupCanvas('cosmic-effects')
    };
    buildCosmic();
    window.addEventListener('resize', cosmicResize);
    cosmicTick();
    // Rare events + 50+ elements achieved via stars/sparkles/nebula counts
    cosmicIntervals.push(setInterval(spawnComet, 60000 + Math.random()*60000)); // 1–2 min
    cosmicIntervals.push(setInterval(spawnConstellationLine, 90000)); // 1.5 min
  }
  function stopCosmic(){
    cosmicRunning = false;
    cosmicRAF.forEach(id=>cancelAnimationFrame(id)); cosmicRAF = [];
    cosmicIntervals.forEach(i=>clearInterval(i)); cosmicIntervals = [];
    window.removeEventListener('resize', cosmicResize);
    Object.values(cosmicLayers).forEach(L=> L && L.ctx.clearRect(0,0,L.c.width,L.c.height));
  }

  /* ========= DARK NEBULA ========= */
  let darkRunning=false, darkRAF=[], darkIntervals=[], darkLayers={}, darkDust=[], darkPulses=[];
  const DARK_CFG = { dust: 100, arcs: 12 };

  function darkResize(){ Object.values(darkLayers).forEach(L=>L && L.size()); buildDark(); }
  function buildDark(){
    const { c } = darkLayers.dust;
    darkDust = [];
    for(let i=0;i<DARK_CFG.dust;i++){
      darkDust.push({ x: U.rand(0,c.width), y: U.rand(0,c.height), alpha: U.rand(0.03,0.12), drift: U.rand(0.06,0.2) });
    }
  }
  function drawDarkDust(){
    const { c, ctx } = darkLayers.dust; const t=Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    darkDust.forEach(d=>{
      d.x += Math.sin(t + d.y*0.02)*d.drift; d.y += Math.cos(t*0.7 + d.x*0.02)*d.drift*0.6;
      if(d.x<0) d.x=c.width; if(d.x>c.width) d.x=0; if(d.y<0) d.y=c.height; if(d.y>c.height) d.y=0;
      ctx.globalAlpha = d.alpha; ctx.fillStyle = '#b7c5ff'; ctx.fillRect(d.x,d.y,1,1);
    });
    ctx.globalAlpha = 1;
  }
  function drawDarkArcs(){
    const { c, ctx } = darkLayers.arcs; const t = Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    for(let i=0;i<DARK_CFG.arcs;i++){
      const x = U.rand(0,c.width), y = U.rand(0,c.height*0.8);
      ctx.save(); ctx.globalAlpha = 0.06; ctx.strokeStyle = '#88a'; ctx.lineWidth = 2;
      ctx.beginPath(); ctx.moveTo(x,y);
      ctx.quadraticCurveTo(x+Math.sin(t+i)*80, y-60, x+U.rand(-120,120), y+U.rand(60,140)); ctx.stroke(); ctx.restore();
    }
  }
  function drawDarkPulsar(){
    const { c, ctx } = darkLayers.pulsar;
    ctx.clearRect(0,0,c.width,c.height);
    darkPulses.forEach(p=>{
      p.r += p.vr; p.alpha -= 0.01;
      ctx.save(); ctx.globalAlpha = p.alpha; ctx.strokeStyle = '#eef'; ctx.lineWidth = 1.5;
      ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.stroke(); ctx.restore();
    });
    darkPulses = darkPulses.filter(p=>p.alpha>0);
  }
  function spawnPulsar(){
    const { c } = darkLayers.pulsar;
    darkPulses.push({ x: U.rand(0,c.width), y: U.rand(0,c.height), r: 8, vr: U.rand(0.8,1.8), alpha: 0.6 });
  }
  function spawnLightning(){
    const { c, ctx } = darkLayers.arcs;
    const x = U.rand(0,c.width), y = U.rand(0,c.height*0.7); let life = 14;
    function anim(){
      if(!darkRunning) return;
      ctx.save(); ctx.globalAlpha = 0.25;
      ctx.strokeStyle = '#aaf'; ctx.lineWidth = 2.5;
      ctx.beginPath(); ctx.moveTo(x,y);
      for(let i=0;i<6;i++){ ctx.lineTo(x+U.rand(-80,80), y+U.rand(20,80)); }
      ctx.stroke(); ctx.restore();
      life--; if(life>0) requestAnimationFrame(anim);
    }
    anim();
  }
  function darkTick(){
    if(!darkRunning) return;
    drawDarkDust(); drawDarkArcs(); drawDarkPulsar();
    darkRAF.push(requestAnimationFrame(darkTick));
  }
  function startDark(){
    if(darkRunning) return;
    darkRunning=true;
    darkLayers = {
      dust: U.setupCanvas('dark-dust'),
      pulsar: U.setupCanvas('dark-pulsar'),
      arcs: U.setupCanvas('dark-arcs')
    };
    buildDark(); window.addEventListener('resize', darkResize);
    darkTick();
    darkIntervals.push(setInterval(spawnPulsar, 3000));
    darkIntervals.push(setInterval(spawnLightning, 45000 + Math.random()*30000));
  }
  function stopDark(){
    darkRunning=false;
    darkRAF.forEach(id=>cancelAnimationFrame(id)); darkRAF=[];
    darkIntervals.forEach(i=>clearInterval(i)); darkIntervals=[];
    window.removeEventListener('resize', darkResize);
    Object.values(darkLayers).forEach(L=> L && L.ctx.clearRect(0,0,L.c.width,L.c.height));
  }

  /* ========= AURORA LIGHT ========= */
  let auroraRunning=false, auroraRAF=[], auroraIntervals=[], auroraLayers={}, auroraRibbons=[], auroraSparkles=[];
  const AUR_CFG = { ribbons: 24, sparkles: 140 };

  function auroraResize(){ Object.values(auroraLayers).forEach(L=>L && L.size()); buildAurora(); }
  function buildAurora(){
    const { c } = auroraLayers.ribbons;
    auroraRibbons = [];
    for(let i=0;i<AUR_CFG.ribbons;i++){
      auroraRibbons.push({ y: (i/AUR_CFG.ribbons)*c.height, hue: U.pick([160, 190, 210, 260]), amp: U.rand(30,60), phase: U.rand(0,Math.PI*2) });
    }
    auroraSparkles = [];
    const spCount = AUR_CFG.sparkles;
    for(let i=0;i<spCount;i++){ auroraSparkles.push({ x: U.rand(0,c.width), y: U.rand(0,c.height), tw: U.rand(0,Math.PI*2), alpha: U.rand(0.06,0.18) }); }
  }
  function drawAuroraRibbons(){
    const { c, ctx } = auroraLayers.ribbons; const t=Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    auroraRibbons.forEach(r=>{
      ctx.strokeStyle = `hsla(${r.hue}, 80%, 70%, 0.25)`;
      ctx.lineWidth = 4; ctx.beginPath();
      for(let x=0;x<c.width;x+=14){
        const y = r.y + Math.sin(t*1.2 + r.phase + x*0.02)*r.amp;
        if(x===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      }
      ctx.stroke();
    });
    // Mist tint
    ctx.fillStyle = 'rgba(255,255,255,0.04)'; ctx.fillRect(0,0,c.width,c.height);
  }
  function drawAuroraSparkles(){
    const { c, ctx } = auroraLayers.sparkles; const t=Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    auroraSparkles.forEach(s=>{
      const a = s.alpha + Math.sin(t*3 + s.tw)*0.05;
      ctx.globalAlpha = a; ctx.fillStyle = '#ffffff'; ctx.fillRect(s.x, s.y, 1, 1);
    });
    ctx.globalAlpha = 1;
  }
  function drawAuroraMist(){
    const { c, ctx } = auroraLayers.mist; const t=Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    const g = ctx.createLinearGradient(0,0,0,c.height);
    g.addColorStop(0, 'rgba(255,255,255,0.06)');
    g.addColorStop(1, 'rgba(255,255,255,0.12)');
    ctx.fillStyle = g; ctx.fillRect(0,0,c.width,c.height);
    // Soft pulse
    ctx.globalAlpha = 0.05 + (Math.sin(t*0.8)+1)*0.05; ctx.fillStyle = '#fff'; ctx.fillRect(0,0,c.width,c.height);
    ctx.globalAlpha = 1;
  }
  function spawnRainbowArc(){
    const { c, ctx } = auroraLayers.sparkles; const x = U.rand(60,c.width-60), y = U.rand(60,c.height*0.6);
    let r = 20, maxR = U.rand(180,260);
    function anim(){
      if(!auroraRunning) return;
      ctx.save(); ctx.lineWidth = 3;
      for(let h=0; h<6; h++){
        ctx.strokeStyle = `hsla(${180+h*30}, 90%, 60%, 0.15)`;
        ctx.beginPath(); ctx.arc(x,y,r+h*4,Math.PI, 2*Math.PI); ctx.stroke();
      }
      ctx.restore();
      r += 3; if(r < maxR) requestAnimationFrame(anim);
    }
    anim();
  }
  function auroraTick(){
    if(!auroraRunning) return;
    drawAuroraRibbons(); drawAuroraSparkles(); drawAuroraMist();
    auroraRAF.push(requestAnimationFrame(auroraTick));
  }
  function startAurora(){
    if(auroraRunning) return; auroraRunning=true;
    auroraLayers = {
      ribbons: U.setupCanvas('aurora-ribbons'),
      sparkles: U.setupCanvas('aurora-sparkles'),
      mist: U.setupCanvas('aurora-mist')
    };
    buildAurora(); window.addEventListener('resize', auroraResize); auroraTick();
    auroraIntervals.push(setInterval(spawnRainbowArc, 120000 + Math.random()*120000)); // 2–4 min
  }
  function stopAurora(){
    auroraRunning=false;
    auroraRAF.forEach(id=>cancelAnimationFrame(id)); auroraRAF=[];
    auroraIntervals.forEach(i=>clearInterval(i)); auroraIntervals=[];
    window.removeEventListener('resize', auroraResize);
    Object.values(auroraLayers).forEach(L=> L && L.ctx.clearRect(0,0,L.c.width,L.c.height));
  }

  /* ========= RETRO ARCADE ========= */
  let retroRunning=false, retroRAF=[], retroIntervals=[], retroLayers={}, retroStars=[], retroCoins=[];
  const RETRO_CFG = { gridSize: 40, stars: 90, coins: 24 };

  function retroResize(){ Object.values(retroLayers).forEach(L=>L && L.size()); buildRetro(); }
  function buildRetro(){
    const { c } = retroLayers.sprites;
    retroStars = [];
    for(let i=0;i<RETRO_CFG.stars;i++){
      retroStars.push({ x: U.rand(0,c.width), y: U.rand(0,c.height), tw: U.rand(0,Math.PI*2) });
    }
    retroCoins = [];
    for(let i=0;i<RETRO_CFG.coins;i++){
      retroCoins.push({ x: U.rand(0,c.width), y: U.rand(0,c.height), r: U.rand(8,14), phase: U.rand(0,Math.PI*2) });
    }
  }
  function drawRetroGrid(){
    const { c, ctx } = retroLayers.grid; const t = Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    ctx.strokeStyle = 'rgba(0,255,224,0.2)'; ctx.lineWidth = 1;
    const offset = (t*30)%RETRO_CFG.gridSize;
    for(let x=0;x<c.width;x+=RETRO_CFG.gridSize){ ctx.beginPath(); ctx.moveTo(x+offset,0); ctx.lineTo(x+offset,c.height); ctx.stroke(); }
    for(let y=0;y<c.height;y+=RETRO_CFG.gridSize){ ctx.beginPath(); ctx.moveTo(0,y+offset); ctx.lineTo(c.width,y+offset); ctx.stroke(); }
  }
  function drawRetroSprites(){
    const { c, ctx } = retroLayers.sprites; const t=Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    // Pixel stars
    retroStars.forEach(s=>{
      const a = 0.6 + Math.sin(t*3 + s.tw)*0.4;
      ctx.globalAlpha = a; ctx.fillStyle = '#fff'; ctx.fillRect(s.x, s.y, 2, 2);
    });
    // Coins
    retroCoins.forEach(co=>{
      const scale = 1 + Math.sin(t*4 + co.phase)*0.3;
      ctx.save(); ctx.translate(co.x, co.y); ctx.scale(scale, 1);
      ctx.fillStyle = '#ffd700'; ctx.beginPath(); ctx.arc(0,0, co.r, 0, Math.PI*2); ctx.fill();
      ctx.restore();
    });
    ctx.globalAlpha = 1;
  }
  function drawRetroOverlay(){
    const { c, ctx } = retroLayers.overlay;
    // CRT vignette/glow
    ctx.clearRect(0,0,c.width,c.height);
    ctx.fillStyle = 'rgba(255,0,128,0.06)'; ctx.fillRect(0,0,c.width,c.height);
  }
  function spawnInsertCoin(){
    const { c, ctx } = retroLayers.overlay;
    let alpha = 0.8, life = 80;
    function anim(){
      if(!retroRunning) return;
      ctx.save(); ctx.globalAlpha = alpha; ctx.fillStyle = '#0ff';
      ctx.font = '16px "Press Start 2P"';
      ctx.textAlign = 'center';
      ctx.fillText('INSERT COIN', c.width/2, c.height*0.12);
      ctx.restore();
      alpha -= 0.01; life--; if(life>0) requestAnimationFrame(anim);
    }
    anim();
  }
  function retroTick(){
    if(!retroRunning) return;
    drawRetroGrid(); drawRetroSprites(); drawRetroOverlay();
    retroRAF.push(requestAnimationFrame(retroTick));
  }
  function startRetro(){
    if(retroRunning) return; retroRunning=true;
    retroLayers = {
      grid: U.setupCanvas('retro-grid'),
      sprites: U.setupCanvas('retro-sprites'),
      overlay: U.setupCanvas('retro-overlay')
    };
    buildRetro(); window.addEventListener('resize', retroResize); retroTick();
    retroIntervals.push(setInterval(spawnInsertCoin, 90000 + Math.random()*60000)); // 1.5–2.5 min
  }
  function stopRetro(){
    retroRunning=false;
    retroRAF.forEach(id=>cancelAnimationFrame(id)); retroRAF=[];
    retroIntervals.forEach(i=>clearInterval(i)); retroIntervals=[];
    window.removeEventListener('resize', retroResize);
    Object.values(retroLayers).forEach(L=> L && L.ctx.clearRect(0,0,L.c.width,L.c.height));
  }

  /* ========= OCEAN ========= */
  let oceanRunning=false, oceanRAF=[], oceanIntervals=[], oceanLayers={}, mouse = { x: innerWidth/2, y: innerHeight/2 };
  let fish=[], schools=[], jellies=[], bubbles=[], plankton=[], debris=[], seaweed=[];
  const OCEAN_CFG = {
    densityScale: 1.0, fishCount: 60, schoolCount: 6, jellyCount: 12,
    bubbleCount: 140, planktonCount: 200, debrisCount: 30, seaweedStrands: 22,
    causticWaves: 24, parallaxLayers: 4, enableMouseDrift: true, enableDayNightTint: true
  };

  function oceanResize(){ Object.values(oceanLayers).forEach(L=>L && L.size()); buildSeaweed(); }
  function drawBackground(){
    const { c, ctx } = oceanLayers.back;
    ctx.clearRect(0,0,c.width,c.height);
    const g = ctx.createLinearGradient(0,0,0,c.height);
    g.addColorStop(0, '#001f3f'); g.addColorStop(0.4, '#003a6b'); g.addColorStop(1, '#005a9c');
    ctx.fillStyle = g; ctx.fillRect(0,0,c.width,c.height);
    for(let i=0;i<OCEAN_CFG.parallaxLayers;i++){
      const alpha = 0.05 + i*0.03; const speed = 0.02 + i*0.03;
      const y = (Date.now()*0.0003*speed) % c.height;
      ctx.globalAlpha = alpha; ctx.fillStyle = '#0a325b';
      ctx.beginPath(); ctx.ellipse(c.width*0.6, y, c.width*0.7, 120+i*40, 0, 0, Math.PI*2); ctx.fill();
    }
    ctx.globalAlpha = 1;
  }
  function drawCaustics(){
    const { c, ctx } = oceanLayers.caustics; const time = Date.now()*0.001;
    ctx.clearRect(0,0,c.width,c.height);
    for(let i=0;i<OCEAN_CFG.causticWaves;i++){
      const y = (i/OCEAN_CFG.causticWaves)*c.height, phase = time + i*0.9, amp = 18 + i%5*6;
      ctx.strokeStyle = `rgba(255,255,255,${0.08 + (i%3)*0.02})`; ctx.lineWidth = 0.8; ctx.beginPath();
      for(let x=0; x<c.width; x+=12){
        const osc = Math.sin(phase + x*0.02) + Math.sin(phase*0.7 + x*0.03)*0.5;
        ctx.lineTo(x, y + osc*amp);
      }
      ctx.stroke();
    }
    if(OCEAN_CFG.enableDayNightTint){
      const cycle = (Math.sin(time*0.07) + 1)/2;
      ctx.fillStyle = `rgba(0, 30, 90, ${0.15 + cycle*0.15})`;
      ctx.fillRect(0,0,c.width,c.height);
    }
  }
  function buildSeaweed(){
    seaweed=[]; const { c } = oceanLayers.life;
    const strandCount = Math.floor(OCEAN_CFG.seaweedStrands*OCEAN_CFG.densityScale);
    for(let i=0;i<strandCount;i++){
      seaweed.push({ x: U.rand(0,c.width), h: U.rand(120,220), w: U.rand(8,18), sway: U.rand(0.6,1.4), hue: U.rand(100,140) });
    }
  }
  function drawSeaweed(ctx, c){
    const t=Date.now()*0.001;
    seaweed.forEach(sw=>{
      const tipOffset = Math.sin(t*sw.sway + sw.x*0.01)*30;
      ctx.fillStyle = `hsl(${sw.hue}, 60%, 28%)`; ctx.beginPath();
      ctx.moveTo(sw.x, c.height);
      ctx.quadraticCurveTo(sw.x - sw.w*0.5, c.height - sw.h*0.5, sw.x + tipOffset, c.height - sw.h);
      ctx.quadraticCurveTo(sw.x + sw.w*0.5, c.height - sw.h*0.5, sw.x, c.height); ctx.fill();
    });
  }
  function buildFish(){
    fish=[]; const { c } = oceanLayers.life; const count = Math.floor(OCEAN_CFG.fishCount*OCEAN_CFG.densityScale);
    const palettes = [[190,220],[15,35],[150,180],[270,300]];
    for(let i=0;i<count;i++){
      const hue = U.rand(...U.pick(palettes));
      fish.push({ x: U.rand(-100, c.width+100), y: U.rand(60, c.height-80), speed: U.rand(0.6,2.4), size: U.rand(10,26),
                  hue, dir: Math.random()<0.5 ? 1 : -1, wobblePhase: U.rand(0,Math.PI*2), wander: U.rand(0.2,0.8), depth: U.rand(0.4,1.0) });
    }
  }
  function drawFish(ctx, c){
    const time=Date.now()*0.001;
    fish.forEach(f=>{
      f.x += f.speed*f.dir; f.y += Math.sin(time*1.8 + f.wobblePhase)*f.wander;
      if(f.dir>0 && f.x > c.width+60) f.x = -60; if(f.dir<0 && f.x < -60) f.x = c.width+60;
      ctx.save(); ctx.translate(f.x, f.y); ctx.scale(f.dir, 1);
      ctx.globalAlpha = 0.5 + 0.5*f.depth; const bodyColor = `hsl(${f.hue}, 70%, ${50 - (1-f.depth)*15}%)`;
      ctx.fillStyle = bodyColor; ctx.beginPath(); ctx.ellipse(0,0,f.size,f.size*0.55,0,0,Math.PI*2); ctx.fill();
      ctx.beginPath(); ctx.moveTo(-f.size,0); ctx.lineTo(-f.size- f.size*0.6, -f.size*0.25); ctx.lineTo(-f.size- f.size*0.6,  f.size*0.25); ctx.closePath(); ctx.fill();
      ctx.globalAlpha = 0.9; ctx.fillStyle = '#fff'; ctx.beginPath(); ctx.arc(f.size*0.35, -f.size*0.12, f.size*0.12, 0, Math.PI*2); ctx.fill();
      ctx.fillStyle = '#111'; ctx.beginPath(); ctx.arc(f.size*0.38, -f.size*0.12, f.size*0.06, 0, Math.PI*2); ctx.fill();
      ctx.restore();
    });
    ctx.globalAlpha = 1;
  }
  function buildSchools(){
    schools=[]; const { c } = oceanLayers.life; const scount = Math.floor(OCEAN_CFG.schoolCount*OCEAN_CFG.densityScale);
    for(let s=0; s<scount; s++){
      const members = 8 + Math.floor(Math.random()*8), hue = U.rand(180,220);
      const school = { cx: U.rand(0,c.width), cy: U.rand(c.height*0.2, c.height*0.8), dir: Math.random()<0.5 ? 1 : -1, speed: U.rand(0.4,1.2), hue, fish: [] };
      for(let i=0;i<members;i++){ school.fish.push({ x: school.cx + U.rand(-40,40), y: school.cy + U.rand(-20,20), offset: U.rand(0,Math.PI*2), size: U.rand(8,16) }); }
      schools.push(school);
    }
  }
  function drawSchools(ctx, c){
    const t=Date.now()*0.001;
    schools.forEach(s=>{
      s.cx += s.speed*s.dir;
      if(s.dir>0 && s.cx > c.width+100){ s.cx = -100; } if(s.dir<0 && s.cx < -100){ s.cx = c.width+100; }
      s.fish.forEach(m=>{
        m.x = s.cx + Math.sin(t*1.8 + m.offset)*24; m.y = s.cy + Math.cos(t*1.2 + m.offset)*16;
        ctx.save(); ctx.translate(m.x, m.y); ctx.scale(s.dir,1); ctx.globalAlpha = 0.65; ctx.fillStyle = `hsl(${s.hue},70%,55%)`;
        ctx.beginPath(); ctx.ellipse(0,0,m.size,m.size*0.5,0,0,Math.PI*2); ctx.fill();
        ctx.beginPath(); ctx.moveTo(-m.size,0); ctx.lineTo(-m.size- m.size*0.5, -m.size*0.25); ctx.lineTo(-m.size- m.size*0.5, m.size*0.25); ctx.closePath(); ctx.fill();
        ctx.restore();
      });
      ctx.globalAlpha = 1;
    });
  }
  function buildJellies(){
    jellies=[]; const { c } = oceanLayers.life; const count = Math.floor(OCEAN_CFG.jellyCount*OCEAN_CFG.densityScale);
    for(let i=0;i<count;i++){ jellies.push({ x: U.rand(0,c.width), y: U.rand(c.height*0.2, c.height*0.9), vy: U.rand(-0.2,-0.6), hue: U.rand(190,260), size: U.rand(18,36), phase: U.rand(0,Math.PI*2) }); }
  }
  function drawJellies(ctx, c){
    const t=Date.now()*0.001;
    jellies.forEach(j=>{
      j.y += j.vy; j.x += Math.sin(t*0.7 + j.phase)*0.6; if(j.y < -40){ j.y = c.height + 40; }
      const pulse = 1 + Math.sin(t*2 + j.phase)*0.08;
      ctx.save(); ctx.translate(j.x, j.y); ctx.scale(pulse, pulse);
      ctx.globalAlpha = 0.5; ctx.fillStyle = `hsla(${j.hue}, 90%, 70%, 0.8)`; ctx.beginPath(); ctx.arc(0,0,j.size,0,Math.PI,true); ctx.fill();
      ctx.strokeStyle = `hsla(${j.hue}, 90%, 70%, 0.5)`; ctx.lineWidth = 1;
      for(let tIdx=0;tIdx<6;tIdx++){ ctx.beginPath(); for(let y=0; y<j.size*1.6; y+=6){
        const tx = Math.sin((t*1.5) + y*0.12 + tIdx)*3; if(y===0) ctx.moveTo(tx, y); else ctx.lineTo(tx, y);
      } ctx.stroke(); }
      ctx.restore();
    });
    ctx.globalAlpha = 1;
  }
  function buildBubbles(){
    bubbles=[]; const { c } = oceanLayers.foreground; const count = Math.floor(OCEAN_CFG.bubbleCount*OCEAN_CFG.densityScale);
    for(let i=0;i<count;i++){ bubbles.push({ x: U.rand(0,c.width), y: U.rand(0,c.height), r: U.rand(2,6), vy: U.rand(0.4,1.6), tw: U.rand(0.2,0.8), alpha: U.rand(0.2,0.6) }); }
    for(let i=0;i<8;i++){ bubbles.push({ x: U.rand(0,c.width), y: c.height + U.rand(0,200), r: U.rand(8,18), vy: U.rand(0.6,1.2), tw: U.rand(0.2,0.5), alpha: 0.25 }); }
  }
  function drawBubbles(ctx, c){
    const t=Date.now()*0.001; ctx.clearRect(0,0,c.width,c.height);
    bubbles.forEach(b=>{
      b.y -= b.vy; b.x += Math.sin(t*2 + b.y*0.02)*b.tw;
      if(b.y < -20){ b.y = c.height + U.rand(0,60); b.x = U.rand(0,c.width); }
      ctx.globalAlpha = b.alpha; ctx.fillStyle = '#cfe9ff'; ctx.beginPath(); ctx.arc(b.x,b.y,b.r,0,Math.PI*2); ctx.fill();
    });
    ctx.globalAlpha = 1;
  }
  function buildPlankton(){
    plankton=[]; const { c } = oceanLayers.foreground; const count = Math.floor(OCEAN_CFG.planktonCount*OCEAN_CFG.densityScale);
    for(let i=0;i<count;i++){ plankton.push({ x: U.rand(0,c.width), y: U.rand(0,c.height), alpha: U.rand(0.05,0.2), twinkle: U.rand(0,Math.PI*2), drift: U.rand(0.1,0.4) }); }
  }
  function drawPlankton(ctx, c){
    const t=Date.now()*0.001;
    plankton.forEach(p=>{
      p.x += Math.sin(t + p.y*0.02)*p.drift; p.y += Math.cos(t*0.6 + p.x*0.02)*p.drift*0.6;
      if(p.x<0) p.x=c.width; if(p.x>c.width) p.x=0; if(p.y<0) p.y=c.height; if(p.y>c.height) p.y=0;
      const a = p.alpha + Math.sin(t*2 + p.twinkle)*0.05;
      ctx.globalAlpha = a; ctx.fillStyle = '#a8ebff'; ctx.fillRect(p.x,p.y,1,1);
    });
    ctx.globalAlpha = 1;
  }
  function buildDebris(){
    debris=[]; const { c } = oceanLayers.foreground; const count = Math.floor(OCEAN_CFG.debrisCount*OCEAN_CFG.densityScale);
    for(let i=0;i<count;i++){ debris.push({ x: U.rand(0,c.width), y: U.rand(0,c.height), rot: U.rand(0,Math.PI*2), vr: U.rand(-0.002,0.003),
      w: U.rand(6,12), h: U.rand(4,8), hue: U.rand(20,60), driftX: U.rand(-0.15,0.15), driftY: U.rand(0.02,0.08) }); }
  }
  function drawDebris(ctx, c){
    debris.forEach(d=>{
      d.x += d.driftX; d.y += d.driftY; d.rot += d.vr;
      if(d.x< -20) d.x = c.width+20; if(d.x> c.width+20) d.x = -20; if(d.y> c.height+20){ d.y = -20; }
      ctx.save(); ctx.translate(d.x,d.y); ctx.rotate(d.rot); ctx.globalAlpha = 0.25; ctx.fillStyle = `hsl(${d.hue}, 50%, 60%)`; ctx.fillRect(-d.w/2,-d.h/2,d.w,d.h); ctx.restore();
    });
    ctx.globalAlpha = 1;
  }
  function drawLife(){
    const { c, ctx } = oceanLayers.life;
    ctx.clearRect(0,0,c.width,c.height);
    drawSeaweed(ctx,c); drawJellies(ctx,c); drawSchools(ctx,c); drawFish(ctx,c);
  }
  function oceanTick(){
    if(!oceanRunning) return;
    drawBackground(); drawCaustics(); drawLife();
    const { c, ctx } = oceanLayers.foreground;
    drawBubbles(ctx,c); drawPlankton(ctx,c); drawDebris(ctx,c);
    oceanRAF.push(requestAnimationFrame(oceanTick));
  }
  function attachOceanMouse(){
    if(!OCEAN_CFG.enableMouseDrift) return;
    window.addEventListener('mousemove', e=>{ mouse.x=e.clientX; mouse.y=e.clientY; });
    oceanIntervals.push(setInterval(()=>{
      fish.forEach(f=>{ const dx = mouse.x - f.x; f.dir = dx>0 ? 1 : -1; f.wander = U.clamp(f.wander + (Math.random()-0.5)*0.05, 0.15, 1.1); });
    }, 800));
  }
  // Rare events
  function spawnWhale(){
    const { c, ctx } = oceanLayers.back; let x = -300; const y = c.height*0.4 + Math.random()*100; const speed = 0.5;
    function animate(){
      if(!oceanRunning) return;
      ctx.save(); ctx.globalAlpha = 0.15; ctx.fillStyle = '#000';
      ctx.beginPath(); ctx.ellipse(x, y, 180, 60, 0, 0, Math.PI*2); ctx.fill(); ctx.restore();
      x += speed; if(x < c.width+300) requestAnimationFrame(animate);
    } animate();
  }
  function spawnOctopus(){
    const { c, ctx } = oceanLayers.life; const x = U.rand(50, c.width-50); const y = c.height-40; let phase = 0;
    function animate(){
      if(!oceanRunning) return;
      ctx.save(); ctx.translate(x,y); ctx.globalAlpha = 0.6; ctx.strokeStyle = '#552233'; ctx.lineWidth = 6;
      for(let i=0;i<6;i++){ ctx.beginPath(); ctx.moveTo(0,0); ctx.quadraticCurveTo(Math.sin(phase+i)*30, -i*20, Math.sin(phase+i*0.5)*60, -i*40); ctx.stroke(); }
      ctx.restore(); phase += 0.1; if(phase<Math.PI*2) requestAnimationFrame(animate);
    } animate();
  }
  function spawnChest(){
    const { c, ctx } = oceanLayers.life; const x = U.rand(100, c.width-100); const y = c.height-30; let frame = 0;
    function animate(){
      if(!oceanRunning) return;
      ctx.save(); ctx.translate(x,y); ctx.fillStyle = '#654321'; ctx.fillRect(-20,-10,40,20);
      ctx.fillStyle = `hsla(50,100%,50%,${0.5+Math.sin(frame*0.2)*0.5})`; ctx.beginPath(); ctx.arc(0,-15,8,0,Math.PI*2); ctx.fill();
      ctx.restore(); frame++; if(frame<200) requestAnimationFrame(animate);
    } animate();
  }
  function startOcean(){
    if(oceanRunning) return; oceanRunning=true;
    oceanLayers = {
      back: U.setupCanvas('ocean-back'),
      caustics: U.setupCanvas('ocean-caustics'),
      life: U.setupCanvas('ocean-life'),
      foreground: U.setupCanvas('ocean-foreground')
    };
    buildSeaweed(); buildFish(); buildSchools(); buildJellies(); buildBubbles(); buildPlankton(); buildDebris();
    window.addEventListener('resize', oceanResize); attachOceanMouse(); oceanTick();
    oceanIntervals.push(setInterval(()=>{ if(oceanRunning) spawnWhale(); }, 120000 + Math.random()*120000));
    oceanIntervals.push(setInterval(()=>{ if(oceanRunning) spawnOctopus(); }, 60000 + Math.random()*60000));
    oceanIntervals.push(setInterval(()=>{ if(oceanRunning) spawnChest(); }, 180000 + Math.random()*120000));
  }
  function stopOcean(){
    oceanRunning=false;
    oceanRAF.forEach(id=>cancelAnimationFrame(id)); oceanRAF=[];
    oceanIntervals.forEach(i=>clearInterval(i)); oceanIntervals=[];
    window.removeEventListener('resize', oceanResize);
    Object.values(oceanLayers).forEach(L=> L && L.ctx.clearRect(0,0,L.c.width,L.c.height));
  }
})();
</script>
  <script>
const themeSelect = document.getElementById('themeSelect');
const customFile = document.getElementById('customFile');
let customBgElement = null;

themeSelect.addEventListener('change', () => {
  if (themeSelect.value === 'custom') {
    document.body.setAttribute('data-theme','custom');
    document.getElementById('customBackground').style.display = 'block';
  } else {
    document.getElementById('customBackground').style.display = 'none';
  }
});

customFile.addEventListener('change', (e) => {
  const file = e.target.files[0];
  if (!file) return;

  // Remove old element if exists
  if (customBgElement) customBgElement.remove();

  const url = URL.createObjectURL(file);

  if (file.type === 'image/png') {
    customBgElement = document.createElement('img');
    customBgElement.src = url;
  } else if (file.type === 'video/mp4') {
    customBgElement = document.createElement('video');
    customBgElement.src = url;
    customBgElement.autoplay = true;
    customBgElement.loop = true;
    customBgElement.muted = true;
  }

  customBgElement.id = 'customBackground';
  document.body.appendChild(customBgElement);
});
</script>
</body>
</html>
